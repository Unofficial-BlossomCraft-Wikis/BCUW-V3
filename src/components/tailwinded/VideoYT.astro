---
// DO NOT EDIT THIS FILE
interface Props {
  url: string,
  classes?: string,
  allowFullScreen?: boolean,
}

const { url, classes = "", allowFullScreen = false } = Astro.props;

// Use YT-To-YTNoCookie to convert the url/id into a youtube nocookie url
const yt_to_yt_nocookie = await fetch(`https://yt-to-ytnocookie.dovahkiin.xyz/api/yttoytnocookie?url=${url}`)
const data = await yt_to_yt_nocookie.json();
const video = data.URL;
---

<iframe src={video} class=`${classes} aspect-video w-full` allowfullscreen={allowFullScreen} />